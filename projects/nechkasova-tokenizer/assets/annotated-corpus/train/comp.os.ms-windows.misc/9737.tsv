from	from	from
:	:	:
cgordon@vpnet.chi.il.us	cgordon@vpnet.chi.il.us	cgordon@vpnet.chi.il.us
(	(	(
gordon	gordon	gordon
hlavenka	hlavenka	hlavenka
)	)	)

subject	subject	subject
:	:	:
re	re	re
:	:	:
save	save	save
my	my	my
hard	hard	hard
disk	disk	disk
?	?	?
!	!	!

(	(	(
allocation	alloc	allocation
error	error	error
,	,	,
cross	cross	cross
-	-	-
linked	link	linked
)	)	)
organization	organ	organization
:	:	:
vpnet	vpnet	vpnet
public	public	public
access	access	access
lines	line	line
:	:	:
137	137	137

brad	brad	brad
banko	banko	banko
writes	write	writes
:	:	:

>	>	>
while	while	while
running	run	running
the	the	the
ms	ms	m
quick	quick	quick
c	c	c
compiler	compil	compiler
in	in	in
a	a	a
dos	dos	do
window	window	window
under	under	under
windows	window	window
3	3	3
.	.	.
1	1	1

>	>	>
this	this	this
evening	even	evening
,	,	,
i	i	i
got	got	got
a	a	a
"	"	"
program	program	program
has	has	ha
violated	violat	violated
system	system	system
integrity	integr	integrity
.	.	.
.	.	.
.	.	.

close	close	close
all	all	all

>	>	>
applications	applic	application
,	,	,
exit	exit	exit
windows	window	window
and	and	and
restart	restart	restart
your	your	your
computer	comput	computer
"	"	"
error	error	error
.	.	.

gawd	gawd	gawd
,	,	,
i	i	i
love	love	love
windows	window	window
:	:	:
-	-	-
)	)	)

>	>	>
1	1	1
)	)	)
is	is	is
there	there	there
an	an	an
easy	easi	easy
way	way	way
to	to	to
restore	restor	restore
everything	everyth	everything
to	to	to
working	work	working
order	order	order
?	?	?

>	>	>
what	what	what
might	might	might
be	be	be
some	some	some
better	better	better
approaches	approach	approach
?	?	?

you	you	you
'	'	'
ll	ll	ll
probably	probabl	probably
want	want	want
to	to	to
delete	delet	delete
any	ani	any
damaged	damag	damaged
executables	execut	executables
and	and	and
reload	reload	reload
them	them	them
fresh	fresh	fresh
.	.	.

data	data	data
files	file	file
should	should	should
be	be	be
examined	examin	examined
and	and	and
repaired	repair	repaired
.	.	.

>	>	>
2	2	2
)	)	)
what	what	what
might	might	might
have	have	have
caused	caus	caused
this	this	this
?	?	?

does	doe	doe
the	the	the
smartdrv	smartdrv	smartdrv
cache	cach	cache
make	make	make
me	me	me
more	more	more

>	>	>
vulnerable	vulner	vulnerable
?	?	?

(	(	(
i	i	i
'	'	'
m	m	m
suspicious	suspici	suspicious
of	of	of
hard	hard	hard
drive	drive	drive
caches	cach	cache
especially	especi	especially
when	when	when
they	they	they

>	>	>
cache	cach	cache
data	data	data
writing	write	writing
.	.	.
)	)	)

you	you	you
'	'	'
re	re	re
not	not	not
stupid	stupid	stupid
.	.	.

smartdrive	smartdriv	smartdrive
caches	cach	cache
things	thing	thing
,	,	,
and	and	and
windows	window	window
also	also	also
runs	run	run
a	a	a
swap	swap	swap
file	file	file
which	which	which
may	may	may
contain	contain	contain
data	data	data
also	also	also
.	.	.

all	all	all
of	of	of
this	this	this
is	is	is
pretty	pretti	pretty
risky	riski	risky
stuff	stuff	stuff
in	in	in
a	a	a
pc	pc	pc
environment	environ	environment
.	.	.

>	>	>
the	the	the
straightforward	straightforward	straightforward
approach	approach	approach
would	would	would
be	be	be
to	to	to
run	run	run
chkdsk	chkdsk	chkdsk
with	with	with
the	the	the
/	/	/
f	f	f
option	option	option
to	to	to

>	>	>
fix	fix	fix
the	the	the
disk	disk	disk
and	and	and
then	then	then
it	it	it
looks	look	look
like	like	like
i	i	i
would	would	would
probably	probabl	probably
have	have	have
to	to	to
reinstall	reinstal	reinstall
windows	window	window

>	>	>
and	and	and
a	a	a
few	few	few
other	other	other
things	thing	thing
.	.	.

a	a	a
reasonably	reason	reasonably
accurate	accur	accurate
prediction	predict	prediction
.	.	.
.	.	.
.	.	.

here	here	here
'	'	'
s	s	s
a	a	a
brief	brief	brief
description	descript	description
of	of	of
how	how	how
dos	dos	do
stores	store	store
files	file	file
:	:	:

there	there	there
are	are	are
three	three	three
pieces	piec	piece
to	to	to
a	a	a
file	file	file
.	.	.

the	the	the
directory	directori	directory
entry	entri	entry
,	,	,
the	the	the
fat	fat	fat
chain	chain	chain
,	,	,
and	and	and
the	the	the
data	data	data
area	area	area
.	.	.

you	you	you
can	can	can
think	think	think
of	of	of
these	these	these
as	as	a
a	a	a
sheet	sheet	sheet
of	of	of
lined	line	lined
notebook	notebook	notebook
paper	paper	paper
,	,	,
a	a	a
sheet	sheet	sheet
of	of	of
graph	graph	graph
paper	paper	paper
,	,	,
and	and	and
a	a	a
stack	stack	stack
of	of	of
3x5	3x5	3x5
cards	card	card
.	.	.

the	the	the
directory	directori	directory
entry	entri	entry
(	(	(
notebook	notebook	notebook
paper	paper	paper
)	)	)
holds	hold	hold
the	the	the
file	file	file
name	name	name
,	,	,
actual	actual	actual
size	size	size
,	,	,
and	and	and
first	first	first
cluster	cluster	cluster
number	number	number
.	.	.

it	it	it
also	also	also
holds	hold	hold
some	some	some
other	other	other
information	inform	information
that	that	that
'	'	'
s	s	s
not	not	not
important	import	important
right	right	right
now	now	now
.	.	.

the	the	the
file	file	file
allocation	alloc	allocation
table	tabl	table
(	(	(
fat	fat	fat
)	)	)
chain	chain	chain
(	(	(
graph	graph	graph
paper	paper	paper
)	)	)
tells	tell	tell
where	where	where
to	to	to
find	find	find
the	the	the
actual	actual	actual
data	data	data
.	.	.

each	each	each
square	squar	square
of	of	of
graph	graph	graph
paper	paper	paper
holds	hold	hold
a	a	a
number	number	number
.	.	.

if	if	if
the	the	the
number	number	number
is	is	is
zero	zero	zero
,	,	,
the	the	the
cluster	cluster	cluster
associated	associ	associated
with	with	with
this	this	this
box	box	box
is	is	is
available	avail	available
.	.	.

if	if	if
it	it	it
holds	hold	hold
a	a	a
"	"	"
magic	magic	magic
"	"	"
number	number	number
,	,	,
it	it	it
is	is	is
either	either	either
the	the	the
last	last	last
piece	piec	piece
of	of	of
a	a	a
file	file	file
or	or	or
a	a	a
bad	bad	bad

(	(	(
unuseable	unus	unuseable
)	)	)
spot	spot	spot
on	on	on
the	the	the
disk	disk	disk
.	.	.

any	ani	any
other	other	other
number	number	number
tells	tell	tell
which	which	which
cluster	cluster	cluster
contains	contain	contains
the	the	the
next	next	next
section	section	section
of	of	of
the	the	the
file	file	file
.	.	.

the	the	the
data	data	data
area	area	area
(	(	(
3x5	3x5	3x5
cards	card	card
)	)	)
is	is	is
where	where	where
the	the	the
actual	actual	actual
information	inform	information
is	is	is
stored	store	stored
.	.	.

the	the	the
data	data	data
area	area	area
is	is	is
organized	organ	organized
as	as	a
clusters	cluster	cluster
of	of	of
a	a	a
fixed	fix	fixed
size	size	size
;	;	;
storage	storag	storage
is	is	is
doled	dole	doled
out	out	out
in	in	in
"	"	"
chunks	chunk	chunk
"	"	"
of	of	of
one	one	one
cluster	cluster	cluster
each	each	each
.	.	.

(	(	(
in	in	in
your	your	your
case	case	case
,	,	,
one	one	one
cluster	cluster	cluster
is	is	is
2048	2048	2048
bytes	byte	byte
.	.	.
)	)	)
as	as	a
a	a	a
cluster	cluster	cluster
is	is	is
filled	fill	filled
,	,	,
another	anoth	another
is	is	is
allocated	alloc	allocated
.	.	.

to	to	to
read	read	read
a	a	a
file	file	file
,	,	,
you	you	you
first	first	first
look	look	look
at	at	at
the	the	the
directory	directori	directory
entry	entri	entry
to	to	to
get	get	get
the	the	the
starting	start	starting
cluster	cluster	cluster
number	number	number
.	.	.

now	now	now
you	you	you
read	read	read
the	the	the
data	data	data
from	from	from
that	that	that
cluster	cluster	cluster
.	.	.

next	next	next
,	,	,
look	look	look
at	at	at
the	the	the
fat	fat	fat
entry	entri	entry
for	for	for
the	the	the
cluster	cluster	cluster
you	you	you
just	just	just
read	read	read
.	.	.

this	this	this
will	will	will
tell	tell	tell
you	you	you
the	the	the
cluster	cluster	cluster
number	number	number
for	for	for
the	the	the
next	next	next
chunk	chunk	chunk
of	of	of
the	the	the
file	file	file
.	.	.

naturally	natur	naturally
,	,	,
these	these	these
numbers	number	number
are	are	are
usually	usual	usually
sequential	sequenti	sequential
,	,	,
but	but	but
they	they	they
can	can	can
jump	jump	jump
around	around	around
and	and	and
even	even	even
go	go	go
backwards	backward	backwards
.	.	.

continue	continu	continue
reading	read	reading
,	,	,
one	one	one
cluster	cluster	cluster
at	at	at
a	a	a
time	time	time
,	,	,
as	as	a
you	you	you
walk	walk	walk
this	this	this
chain	chain	chain
through	through	through
the	the	the
fat	fat	fat
,	,	,
until	until	until
you	you	you
hit	hit	hit
the	the	the
marker	marker	marker
which	which	which
says	say	say
it	it	it
'	'	'
s	s	s
the	the	the
last	last	last
cluster	cluster	cluster
in	in	in
the	the	the
file	file	file
.	.	.

chkdsk	chkdsk	chkdsk
is	is	is
the	the	the
dos	dos	do
utility	util	utility
that	that	that
checks	check	check
the	the	the
sanity	saniti	sanity
and	and	and
coherence	coher	coherence
of	of	of
the	the	the
directories	directori	directory
and	and	and
the	the	the
fat	fat	fat
and	and	and
can	can	can
bludgeon	bludgeon	bludgeon
most	most	most
flaws	flaw	flaw
into	into	into
submission	submiss	submission
.	.	.

it	it	it
doesn	doesn	doesn
'	'	'
t	t	t
have	have	have
any	ani	any
intelligence	intellig	intelligence
,	,	,
so	so	so
you	you	you
have	have	have
to	to	to
double	doubl	double
-	-	-
check	check	check
anything	anyth	anything
it	it	it
"	"	"
fixes	fix	fix
"	"	"
.	.	.

now	now	now
let	let	let
'	'	'
s	s	s
do	do	do
a	a	a
bit	bit	bit
of	of	of
a	a	a
post	post	post
-	-	-
mortem	mortem	mortem
:	:	:

>	>	>
c	c	c
:	:	:
\	\	\
gfx	gfx	gfx
\	\	\
vpic46	vpic46	vpic46
\	\	\
cvpic	cvpic	cvpic
.	.	.
exe	exe	exe

>	>	>
c	c	c
:	:	:
\	\	\
gfx	gfx	gfx
\	\	\
vpic46	vpic46	vpic46
\	\	\
vpic	vpic	vpic
.	.	.
txt	txt	txt

>	>	>
c	c	c
:	:	:
\	\	\
gfx	gfx	gfx
\	\	\
vpic46	vpic46	vpic46
\	\	\
video7	video7	video7
.	.	.
cfg	cfg	cfg

>	>	>
c	c	c
:	:	:
\	\	\
gfx	gfx	gfx
\	\	\
vpic46	vpic46	vpic46
\	\	\
orcpro2	orcpro2	orcpro2
.	.	.
cfg	cfg	cfg

>	>	>
c	c	c
:	:	:
\	\	\
gfx	gfx	gfx
\	\	\
vpic46	vpic46	vpic46
\	\	\
vga	vga	vga
.	.	.
cfg	cfg	cfg

>	>	>
c	c	c
:	:	:
\	\	\
game	game	game
\	\	\
goose	goos	goose
\	\	\
bird2	bird2	bird2
.	.	.
x	x	x

>	>	>
c	c	c
:	:	:
\	\	\
winmisc	winmisc	winmisc
\	\	\
adv21	adv21	adv21
\	\	\
winadv	winadv	winadv
.	.	.
exe	exe	exe

>	>	>
allocation	alloc	allocation
error	error	error
,	,	,
size	size	size
adjusted	adjust	adjusted

all	all	all
of	of	of
these	these	these
files	file	file
have	have	have
sizes	size	size
(	(	(
according	accord	according
to	to	to
the	the	the
fat	fat	fat
)	)	)
which	which	which
don	don	don
'	'	'
t	t	t
match	match	match
the	the	the
size	size	size
reported	report	reported
in	in	in
their	their	their
directory	directori	directory
entries	entri	entry
.	.	.

chkdsk	chkdsk	chkdsk
/	/	/
f	f	f
will	will	will
alter	alter	alter
the	the	the
directory	directori	directory
entries	entri	entry
to	to	to
match	match	match
the	the	the
fat	fat	fat
size	size	size
.	.	.

(	(	(
in	in	in
other	other	other
words	word	word
,	,	,
the	the	the
directory	directori	directory
entry	entri	entry
for	for	for
cvpic	cvpic	cvpic
.	.	.
exe	exe	exe
may	may	may
say	say	say
the	the	the
file	file	file
is	is	is
64	64	64
,	,	,
877	877	877
bytes	byte	byte
long	long	long
.	.	.

but	but	but
chkdsk	chkdsk	chkdsk
found	found	found
a	a	a
fat	fat	fat
chain	chain	chain
of	of	of
43	43	43
clusters	cluster	cluster
attached	attach	attached
to	to	to
it	it	it
.	.	.

(	(	(
my	my	my
numbers	number	number
,	,	,
obviously	obvious	obviously
,	,	,
are	are	are
made	made	made
up	up	up
.	.	.
)	)	)
)	)	)

>	>	>
316	316	316
lost	lost	lost
allocation	alloc	allocation
units	unit	unit
found	found	found
in	in	in
224	224	224
chains	chain	chain
.	.	.

>	>	>
647168	647168	647168
bytes	byte	byte
disk	disk	disk
space	space	space
would	would	would
be	be	be
freed	freed	freed

disk	disk	disk
space	space	space
was	was	wa
found	found	found
which	which	which
is	is	is
allocated	alloc	allocated
in	in	in
the	the	the
fat	fat	fat
,	,	,
but	but	but
is	is	is
not	not	not
attached	attach	attached
to	to	to
any	ani	any
directory	directori	directory
entry	entri	entry
.	.	.

chkdsk	chkdsk	chkdsk
/	/	/
f	f	f
gives	give	give
you	you	you
the	the	the
option	option	option
of	of	of
converting	convert	converting
these	these	these

"	"	"
lost	lost	lost
chains	chain	chain
"	"	"
to	to	to
files	file	file
.	.	.

you	you	you
can	can	can
then	then	then
examine	examin	examine
the	the	the
files	file	file
(	(	(
file0000	file0000	file0000
.	.	.
chk	chk	chk
through	through	through
file0223	file0223	file0223
.	.	.
chk	chk	chk
)	)	)
and	and	and
rename	renam	rename
or	or	or
discard	discard	discard
them	them	them
.	.	.

or	or	or
,	,	,
if	if	if
you	you	you
tell	tell	tell
chkdsk	chkdsk	chkdsk
_not_	_not_	_not_
to	to	to
convert	convert	convert
them	them	them
to	to	to
files	file	file
,	,	,
then	then	then
those	those	those
clusters	cluster	cluster
will	will	will
simply	simpli	simply
be	be	be
marked	mark	marked
"	"	"
available	avail	available
"	"	"
in	in	in
the	the	the
fat	fat	fat
.	.	.

>	>	>
c	c	c
:	:	:
\	\	\
gfx	gfx	gfx
\	\	\
vpic46	vpic46	vpic46
\	\	\
cvpic	cvpic	cvpic
.	.	.
exe	exe	exe

>	>	>
is	is	is
cross	cross	cross
linked	link	linked
on	on	on
allocation	alloc	allocation
unit	unit	unit
16133	16133	16133

.	.	.
.	.	.
.	.	.

>	>	>
c	c	c
:	:	:
\	\	\
386spart	386spart	386spart
.	.	.
par	par	par

>	>	>
is	is	is
cross	cross	cross
linked	link	linked
on	on	on
allocation	alloc	allocation
unit	unit	unit
16133	16133	16133

these	these	these
files	file	file
are	are	are
both	both	both
referencing	referenc	referencing
the	the	the
_same_	_same_	_same_
data	data	data
cluster	cluster	cluster
.	.	.

obviously	obvious	obviously
,	,	,
one	one	one
of	of	of
them	them	them
(	(	(
at	at	at
least	least	least
)	)	)
must	must	must
be	be	be
wrong	wrong	wrong
.	.	.

it	it	it
'	'	'
s	s	s
interesting	interest	interesting
to	to	to
note	note	note
that	that	that
c	c	c
:	:	:
\	\	\
386spart	386spart	386spart
.	.	.
par	par	par
is	is	is
your	your	your
windows	window	window
swap	swap	swap
file	file	file
.	.	.
.	.	.
.	.	.

to	to	to
fix	fix	fix
this	this	this
,	,	,
you	you	you
should	should	should
copy	copi	copy
each	each	each
cross	cross	cross
-	-	-
linked	link	linked
file	file	file
to	to	to
a	a	a
new	new	new
name	name	name
.	.	.

this	this	this
will	will	will
"	"	"
fix	fix	fix
"	"	"
the	the	the
cross	cross	cross
-	-	-
link	link	link
by	by	by
giving	give	giving
the	the	the
files	file	file
unique	uniqu	unique
data	data	data
spaces	space	space
.	.	.

now	now	now
delete	delet	delete
the	the	the
cross	cross	cross
-	-	-
linked	link	linked
files	file	file
.	.	.

examine	examin	examine
the	the	the
copies	copi	copy
and	and	and
try	tri	try
to	to	to
assemble	assembl	assemble
them	them	them
properly	proper	properly
.	.	.

good	good	good
luck	luck	luck
.	.	.

(	(	(
hint	hint	hint
:	:	:
"	"	"
missing	miss	missing
pieces	piec	piece
"	"	"
are	are	are
likely	like	likely
to	to	to
be	be	be
found	found	found
in	in	in
those	those	those
"	"	"
lost	lost	lost
chains	chain	chain
"	"	"
at	at	at
the	the	the
top	top	top
.	.	.
.	.	.
.	.	.
)	)	)

>	>	>
42366976	42366976	42366976
bytes	byte	byte
total	total	total
disk	disk	disk
space	space	space

>	>	>
3958784	3958784	3958784
bytes	byte	byte
in	in	in
4	4	4
hidden	hidden	hidden
files	file	file

>	>	>
153600	153600	153600
bytes	byte	byte
in	in	in
67	67	67
directories	directori	directory

>	>	>
36042752	36042752	36042752
bytes	byte	byte
in	in	in
1496	1496	1496
user	user	user
files	file	file

>	>	>
1564672	1564672	1564672
bytes	byte	byte
available	avail	available
on	on	on
disk	disk	disk

your	your	your
disk	disk	disk
is	is	is
pretty	pretti	pretty
close	close	close
to	to	to
full	full	full
.	.	.

this	this	this
may	may	may
be	be	be
the	the	the
actual	actual	actual
cause	caus	cause
of	of	of
the	the	the
problem	problem	problem
;	;	;
perhaps	perhap	perhaps
windows	window	window
needed	need	needed
to	to	to
expand	expand	expand
its	it	it
swapfile	swapfil	swapfile
by	by	by
an	an	an
amount	amount	amount
which	which	which
exceeded	exceed	exceeded
available	avail	available
disk	disk	disk
space	space	space
.	.	.
.	.	.
.	.	.

in	in	in
any	ani	any
case	case	case
,	,	,
the	the	the
short	short	short
summary	summari	summary
is	is	is
that	that	that
something	someth	something
trashed	trash	trashed
your	your	your
fat	fat	fat
.	.	.

there	there	there
are	are	are
utilities	util	utility
that	that	that
can	can	can
mirror	mirror	mirror
your	your	your
fat	fat	fat
and	and	and
help	help	help
repair	repair	repair
damage	damag	damage
after	after	after
something	someth	something
like	like	like
this	this	this
,	,	,
but	but	but
you	you	you
have	have	have
to	to	to
run	run	run
them	them	them
_before_	_before_	_before_
the	the	the
problem	problem	problem
occurs	occur	occurs
.	.	.

sorry	sorri	sorry
.	.	.

-	-	-
-	-	-

-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
gordon	gordon	gordon
s	s	s
.	.	.

hlavenka	hlavenka	hlavenka
cgordon@vpnet.chi.il.us	cgordon@vpnet.chi.il.us	cgordon@vpnet.chi.il.us
vote	vote	vote
straight	straight	straight
ticket	ticket	ticket
procrastination	procrastin	procrastination
party	parti	party
dec	dec	dec
.	.	.

3rd	3rd	3rd
!	!	!

-	-	-
-	-	-

-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
gordon	gordon	gordon
s	s	s
.	.	.

hlavenka	hlavenka	hlavenka
cgordon@vpnet.chi.il.us	cgordon@vpnet.chi.il.us	cgordon@vpnet.chi.il.us
vote	vote	vote
straight	straight	straight
ticket	ticket	ticket
procrastination	procrastin	procrastination
party	parti	party
dec	dec	dec
.	.	.

3rd	3rd	3rd
!	!	!