from	from	from
:	:	:
davewood@bruno.cs.colorado.edu	davewood@bruno.cs.colorado.edu	davewood@bruno.cs.colorado.edu
(	(	(
david	david	david
rex	rex	rex
wood	wood	wood
)	)	)

subject	subject	subject
:	:	:
creating	creat	creating
application	applic	application
contexts	context	context
multiple	multipl	multiple
times	time	time
?	?	?
?	?	?
?	?	?

nntp	nntp	nntp
-	-	-
posting	post	posting
-	-	-
host	host	host
:	:	:
bruno	bruno	bruno
.	.	.
cs	cs	c
.	.	.
colorado	colorado	colorado
.	.	.
edu	edu	edu

organization	organ	organization
:	:	:
university	univers	university
of	of	of
colorado	colorado	colorado
,	,	,
boulder	boulder	boulder

lines	line	line
:	:	:
94	94	94

the	the	the
subject	subject	subject
does	doe	doe
not	not	not
describe	describ	describe
the	the	the
problem	problem	problem
i	i	i
am	am	am
having	have	having
very	veri	very
well	well	well
.	.	.

please	pleas	please
read	read	read
on	on	on
.	.	.
.	.	.
.	.	.

i	i	i
am	am	am
trying	tri	trying
to	to	to
write	write	write
a	a	a
function	function	function
which	which	which
creates	creat	creates
an	an	an
xtappcontext	xtappcontext	xtappcontext
and	and	and
a	a	a
widget	widget	widget
,	,	,
displays	display	display
the	the	the
widget	widget	widget
for	for	for
a	a	a
while	while	while
,	,	,
then	then	then
destroys	destroy	destroys
everything	everyth	everything
and	and	and
returns	return	return
.	.	.

the	the	the
problem	problem	problem
is	is	is
that	that	that
multiple	multipl	multiple
calls	call	call
to	to	to
this	this	this
function	function	function
cause	caus	cause
a	a	a
variety	varieti	variety
of	of	of
problems	problem	problem
including	includ	including
(	(	(
depending	depend	depending
on	on	on
which	which	which
calls	call	call
i	i	i
make	make	make
to	to	to
get	get	get
rid	rid	rid
of	of	of
things	thing	thing
)	)	)
:	:	:

-	-	-
core	core	core
dump	dump	dump

-	-	-
badpixmap	badpixmap	badpixmap
x	x	x
error	error	error

-	-	-
widget	widget	widget
not	not	not
unmapped	unmap	unmapped

here	here	here
is	is	is
a	a	a
simple	simpl	simple
(	(	(
c	c	c
+	+	+
+	+	+
)	)	)
program	program	program
i	i	i
wrote	wrote	wrote
to	to	to
show	show	show
the	the	the
problem	problem	problem
:	:	:

#	#	#
include	includ	include
<	<	<
x11	x11	x11
/	/	/
xlib	xlib	xlib
.	.	.
h	h	h
>	>	>

#	#	#
include	includ	include
<	<	<
xm	xm	xm
/	/	/
xm	xm	xm
.	.	.
h	h	h
>	>	>

#	#	#
include	includ	include
<	<	<
xm	xm	xm
/	/	/
pushb	pushb	pushb
.	.	.
h	h	h
>	>	>

void	void	void
bla	bla	bla
(	(	(
)	)	)

{	{	{

xtappcontext	xtappcontext	xtappcontext
app	app	app
;	;	;

display	display	display
*	*	*
dis	dis	dis
=	=	=
xopendisplay	xopendisplay	xopendisplay
(	(	(
"	"	"
"	"	"
)	)	)
;	;	;

int	int	int
junk	junk	junk
=	=	=
0	0	0
;	;	;

widget	widget	widget
top	top	top
=	=	=
xtappinitialize	xtappiniti	xtappinitialize
(	(	(
&	&	&
app	app	app
,	,	,
"	"	"
test	test	test
"	"	"
,	,	,
null	null	null
,	,	,
0	0	0
,	,	,
&	&	&
junk	junk	junk
,	,	,
null	null	null
,	,	,
null	null	null
,	,	,
null	null	null
,	,	,
0	0	0
)	)	)
;	;	;

widget	widget	widget
box	box	box
=	=	=
xtvacreatemanagedwidget	xtvacreatemanagedwidget	xtvacreatemanagedwidget
(	(	(
"	"	"
blaaa	blaaa	blaaa
"	"	"
,	,	,
xmpushbuttonwidgetclass	xmpushbuttonwidgetclass	xmpushbuttonwidgetclass
,	,	,
top	top	top
,	,	,
xmnheight	xmnheight	xmnheight
,	,	,
50	50	50
,	,	,
xmnwidth	xmnwidth	xmnwidth
,	,	,
50	50	50
,	,	,
null	null	null
)	)	)
;	;	;

xtrealizewidget	xtrealizewidget	xtrealizewidget
(	(	(
top	top	top
)	)	)
;	;	;

/	/	/
/	/	/
same	same	same
as	as	a
xtappmainloop	xtappmainloop	xtappmainloop
but	but	but
with	with	with
only	onli	only
10	10	10
xevents	xevent	xevents

for	for	for
(	(	(
int	int	int
i	i	i
=	=	=
0	0	0
;	;	;
i	i	i
<	<	<
=	=	=
10	10	10
;	;	;
i	i	i
+	+	+
+	+	+
)	)	)

{	{	{

xevent	xevent	xevent
event	event	event
;	;	;

xtappnextevent	xtappnextev	xtappnextevent
(	(	(
app	app	app
,	,	,
&	&	&
event	event	event
)	)	)
;	;	;

xtdispatchevent	xtdispatchev	xtdispatchevent
(	(	(
&	&	&
event	event	event
)	)	)
;	;	;

}	}	}

/	/	/
/	/	/
what	what	what
should	should	should
i	i	i
put	put	put
here	here	here
?	?	?
?	?	?
?	?	?

xtunrealizewidget	xtunrealizewidget	xtunrealizewidget
(	(	(
top	top	top
)	)	)
;	;	;

xtdestroywidget	xtdestroywidget	xtdestroywidget
(	(	(
top	top	top
)	)	)
;	;	;

xtdestroyapplicationcontext	xtdestroyapplicationcontext	xtdestroyapplicationcontext
(	(	(
app	app	app
)	)	)
;	;	;

xclosedisplay	xclosedisplay	xclosedisplay
(	(	(
dis	dis	dis
)	)	)
;	;	;

/	/	/
/	/	/
?	?	?
?	?	?
?	?	?

}	}	}

main	main	main
(	(	(
)	)	)

{	{	{

for	for	for
(	(	(
int	int	int
i	i	i
=	=	=
0	0	0
;	;	;
i	i	i
<	<	<
=	=	=
20	20	20
;	;	;
i	i	i
+	+	+
+	+	+
)	)	)

bla	bla	bla
(	(	(
)	)	)
;	;	;

}	}	}

note	note	note
that	that	that
i	i	i
rewrote	rewrot	rewrote
xtappmainloop	xtappmainloop	xtappmainloop
so	so	so
that	that	that
at	at	at
a	a	a
given	given	given
time	time	time
(	(	(
in	in	in
this	this	this
example	exampl	example
,	,	,
after	after	after
10	10	10
xevents	xevent	xevents
)	)	)
the	the	the
function	function	function
will	will	will
exit	exit	exit
and	and	and
return	return	return
to	to	to
the	the	the
main	main	main
program	program	program
.	.	.

with	with	with
this	this	this
example	exampl	example
,	,	,
i	i	i
get	get	get
the	the	the
following	follow	following
error	error	error
on	on	on
about	about	about
(	(	(
this	this	this
is	is	is
not	not	not
consistent	consist	consistent
)	)	)
the	the	the
5th	5th	5th
call	call	call
to	to	to
bla	bla	bla
(	(	(
)	)	)
:	:	:

x	x	x
error	error	error
of	of	of
failed	fail	failed
request	request	request
:	:	:
badpixmap	badpixmap	badpixmap
(	(	(
invalid	invalid	invalid
pixmap	pixmap	pixmap
parameter	paramet	parameter
)	)	)

major	major	major
opcode	opcod	opcode
of	of	of
failed	fail	failed
request	request	request
:	:	:
55	55	55
(	(	(
x_creategc	x_creategc	x_creategc
)	)	)

resource	resourc	resource
id	id	id
in	in	in
failed	fail	failed
request	request	request
:	:	:
0xe0000d	0xe0000d	0xe0000d

serial	serial	serial
number	number	number
of	of	of
failed	fail	failed
request	request	request
:	:	:
71	71	71

current	current	current
serial	serial	serial
number	number	number
in	in	in
output	output	output
stream	stream	stream
:	:	:
86	86	86

if	if	if
i	i	i
take	take	take
out	out	out
the	the	the
xtunrealizewidget	xtunrealizewidget	xtunrealizewidget
(	(	(
top	top	top
)	)	)
;	;	;
line	line	line
,	,	,
it	it	it
just	just	just
dumps	dump	dump
core	core	core
on	on	on
the	the	the
seconds	second	second
call	call	call
.	.	.

furthermore	furthermor	furthermore
,	,	,
every	everi	every
time	time	time
i	i	i
call	call	call
xtappinitialize	xtappiniti	xtappinitialize
(	(	(
)	)	)
(	(	(
other	other	other
than	than	than
the	the	the
1st	1st	1st
time	time	time
)	)	)
,	,	,
i	i	i
get	get	get
:	:	:

warning	warn	warning
:	:	:
initializing	initi	initializing
resource	resourc	resource
lists	list	list
twice	twice	twice

warning	warn	warning
:	:	:
initializing	initi	initializing
translation	translat	translation
manager	manag	manager
twice	twice	twice
.	.	.

so	so	so
finally	final	finally
,	,	,
my	my	my
question	question	question
is	is	is
this	this	this
:	:	:

what	what	what
needs	need	need
to	to	to
be	be	be
done	done	done
in	in	in
order	order	order
to	to	to
be	be	be
able	abl	able
to	to	to
call	call	call
a	a	a
function	function	function
which	which	which
creates	creat	creates
an	an	an
xtappcontext	xtappcontext	xtappcontext
and	and	and
widgets	widget	widget
multiple	multipl	multiple
times	time	time
?	?	?

any	ani	any
help	help	help
would	would	would
be	be	be
greatly	great	greatly
appreciated	appreci	appreciated
.	.	.

please	pleas	please
respond	respond	respond
via	via	via
email	email	email
as	as	a
i	i	i
dont	dont	dont
usually	usual	usually
have	have	have
time	time	time
to	to	to
read	read	read
this	this	this
group	group	group
.	.	.

thanks	thank	thanks
very	veri	very
much	much	much
.	.	.

-	-	-
davewood	davewood	davewood

-	-	-
-	-	-

-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
david	david	david
rex	rex	rex
wood	wood	wood
-	-	-
-	-	-
davewood@cs.colorado.edu	davewood@cs.colorado.edu	davewood@cs.colorado.edu
-	-	-
-	-	-
university	univers	university
of	of	of
colorado	colorado	colorado
at	at	at
boulder	boulder	boulder

-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-
-	-	-