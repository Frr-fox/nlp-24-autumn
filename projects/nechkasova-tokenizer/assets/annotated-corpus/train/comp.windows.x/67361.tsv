from	from	from
:	:	:
jgealow@mtl.mit.edu	jgealow@mtl.mit.edu	jgealow@mtl.mit.edu
(	(	(
jeffrey	jeffrey	jeffrey
c	c	c
.	.	.

gealow	gealow	gealow
)	)	)
subject	subject	subject
:	:	:
standard	standard	standard
colormaps	colormap	colormaps
organization	organ	organization
:	:	:
mit	mit	mit
microsystems	microsystem	microsystems
technology	technolog	technology
laboratories	laboratori	laboratory
lines	line	line
:	:	:
49	49	49
distribution	distribut	distribution
:	:	:
world	world	world
nntp	nntp	nntp
-	-	-
posting	post	posting
-	-	-
host	host	host
:	:	:
mtl	mtl	mtl
.	.	.
mit	mit	mit
.	.	.
edu	edu	edu

i	i	i
'	'	'
m	m	m
working	work	working
on	on	on
an	an	an
x11r5	x11r5	x11r5
application	applic	application
and	and	and
have	have	have
concerns	concern	concern
regarding	regard	regarding
standard	standard	standard
colormaps	colormap	colormaps
.	.	.

the	the	the
x11r5	x11r5	x11r5
documentation	document	documentation
says	say	say
:	:	:
"	"	"
usually	usual	usually
,	,	,
a	a	a
window	window	window
manager	manag	manager
creates	creat	creates

these	these	these
colormaps	colormap	colormaps
.	.	.
"	"	"
i	i	i
wonder	wonder	wonder
what	what	what
window	window	window
manager	manag	manager
the	the	the
writer	writer	writer
had	had	had

in	in	in
mind	mind	mind
.	.	.

neither	neither	neither
twm	twm	twm
or	or	or
mwm	mwm	mwm
seem	seem	seem
to	to	to
create	creat	create
standard	standard	standard
colormaps	colormap	colormaps
.	.	.

of	of	of
course	cours	course
,	,	,
one	one	one
can	can	can
use	use	use
xstdcmap	xstdcmap	xstdcmap
to	to	to
create	creat	create
standard	standard	standard
colormaps	colormap	colormaps
.	.	.

however	howev	however
,	,	,
xstdcmap	xstdcmap	xstdcmap
doesn	doesn	doesn
'	'	'
t	t	t
seem	seem	seem
to	to	to
try	tri	try
very	veri	very
hard	hard	hard
to	to	to
avoid	avoid	avoid
conflicts	conflict	conflict
with	with	with
the	the	the
default	default	default
colormap	colormap	colormap
.	.	.

when	when	when
i	i	i
use	use	use
standard	standard	standard
colormaps	colormap	colormaps
created	creat	created
by	by	by
xstdcmap	xstdcmap	xstdcmap
,	,	,
the	the	the
rest	rest	rest
of	of	of
my	my	my
display	display	display
goes	goe	go
black	black	black
.	.	.

so	so	so
it	it	it
seems	seem	seems
as	as	a
if	if	if
use	use	use
of	of	of
standard	standard	standard
colormaps	colormap	colormaps
causes	caus	cause
the	the	the
very	veri	very
problem	problem	problem
standard	standard	standard
colormaps	colormap	colormaps
are	are	are
intended	intend	intended
to	to	to
avoid	avoid	avoid
.	.	.

perhaps	perhap	perhaps
if	if	if
every	everi	every
application	applic	application
used	use	used
standard	standard	standard
colormaps	colormap	colormaps
,	,	,
things	thing	thing
would	would	would
be	be	be
wonderful	wonder	wonderful
.	.	.

but	but	but
not	not	not
many	mani	many
applications	applic	application
seem	seem	seem
to	to	to
use	use	use
standard	standard	standard
colormaps	colormap	colormaps
.	.	.

finally	final	finally
,	,	,
the	the	the
operation	oper	operation
of	of	of
the	the	the
functions	function	function
xmugetcolormapallocation	xmugetcolormapalloc	xmugetcolormapallocation
,	,	,
xmustandardcolormap	xmustandardcolormap	xmustandardcolormap
,	,	,
and	and	and
xmucreatecolormap	xmucreatecolormap	xmucreatecolormap
seem	seem	seem
inconsistent	inconsist	inconsistent
with	with	with
the	the	the
section	section	section
14	14	14
.	.	.
3	3	3
of	of	of
the	the	the
x11r5	x11r5	x11r5
xlib	xlib	xlib
documentation	document	documentation
.	.	.

according	accord	according
to	to	to
the	the	the
section	section	section
14	14	14
.	.	.
3	3	3
of	of	of
the	the	the
x11r5	x11r5	x11r5
xlib	xlib	xlib
documentation	document	documentation
(	(	(
p	p	p
.	.	.

436	436	436
)	)	)
:	:	:

for	for	for
grayscale	grayscal	grayscale
colormaps	colormap	colormaps
,	,	,
only	onli	only
the	the	the
colormap	colormap	colormap
,	,	,
red_max	red_max	red_max
,	,	,
red_mult	red_mult	red_mult
,	,	,
and	and	and

base_pixel	base_pixel	base_pixel
members	member	member
are	are	are
defined	defin	defined
.	.	.

the	the	the
other	other	other
members	member	member
are	are	are
ignored	ignor	ignored
.	.	.

to	to	to
compute	comput	compute
a	a	a
grayscale	grayscal	grayscale
pixel	pixel	pixel
value	valu	value
,	,	,
use	use	use
the	the	the
following	follow	following
expression	express	expression
:	:	:

(	(	(
gray	gray	gray
*	*	*
red_mult	red_mult	red_mult
+	+	+
base_pixel	base_pixel	base_pixel
)	)	)
&	&	&
0xffffffff	0xffffffff	0xffffffff

xmugetcolormapallocation	xmugetcolormapalloc	xmugetcolormapallocation
,	,	,
defined	defin	defined
in	in	in
mit	mit	mit
/	/	/
lib	lib	lib
/	/	/
xmu	xmu	xmu
/	/	/
cmapalloc	cmapalloc	cmapalloc
.	.	.
c	c	c
,	,	,
is	is	is

used	use	used
by	by	by
xmulookupstandardcolormap	xmulookupstandardcolormap	xmulookupstandardcolormap
,	,	,
defined	defin	defined
in	in	in
mit	mit	mit
/	/	/
lib	lib	lib
/	/	/
xmu	xmu	xmu
/	/	/
lookupcmap	lookupcmap	lookupcmap
.	.	.
c	c	c

to	to	to
select	select	select
red_max	red_max	red_max
,	,	,
green_max	green_max	green_max
,	,	,
and	and	and
blue_max	blue_max	blue_max
values	valu	value
for	for	for
the	the	the

call	call	call
to	to	to
xmustandardcolormap	xmustandardcolormap	xmustandardcolormap
.	.	.

when	when	when
the	the	the
rgb_gray_map	rgb_gray_map	rgb_gray_map
property	properti	property
is	is	is

specified	specifi	specified
,	,	,
xmugetcolormapallocation	xmugetcolormapalloc	xmugetcolormapallocation
sets	set	set
red_max	red_max	red_max
to	to	to
30	30	30
%	%	%
of	of	of
the	the	the

total	total	total
number	number	number
of	of	of
cells	cell	cell
in	in	in
the	the	the
gray	gray	gray
scale	scale	scale
,	,	,
sets	set	set
green_max	green_max	green_max
to	to	to
59	59	59
%	%	%

of	of	of
the	the	the
total	total	total
number	number	number
,	,	,
and	and	and
sets	set	set
blue_max	blue_max	blue_max
ot	ot	ot
11	11	11
%	%	%
of	of	of
the	the	the
total	total	total
number	number	number
.	.	.

referring	refer	referring
to	to	to
section	section	section
14	14	14
.	.	.
3	3	3
,	,	,
one	one	one
would	would	would
expect	expect	expect
xmugetcolormapallocation	xmugetcolormapalloc	xmugetcolormapallocation

to	to	to
set	set	set
red_max	red_max	red_max
to	to	to
the	the	the
total	total	total
number	number	number
of	of	of
cells	cell	cell
in	in	in
the	the	the
gray	gray	gray
scale	scale	scale
.	.	.

when	when	when
the	the	the
rgb_gray_map	rgb_gray_map	rgb_gray_map
property	properti	property
is	is	is
specified	specifi	specified
,	,	,
xmustandardcolormap	xmustandardcolormap	xmustandardcolormap
,	,	,

defined	defin	defined
in	in	in
mit	mit	mit
/	/	/
lib	lib	lib
/	/	/
xmu	xmu	xmu
/	/	/
stdcmap	stdcmap	stdcmap
.	.	.
c	c	c
,	,	,
sets	set	set
red_mult	red_mult	red_mult
,	,	,
green_mult	green_mult	green_mult
,	,	,

and	and	and
blue_mult	blue_mult	blue_mult
all	all	all
equal	equal	equal
to	to	to
1	1	1
.	.	.

referring	refer	referring
to	to	to
section	section	section
14	14	14
.	.	.
3	3	3
,	,	,

one	one	one
would	would	would
expect	expect	expect
green_mult	green_mult	green_mult
and	and	and
blue_mult	blue_mult	blue_mult
to	to	to
be	be	be
ignored	ignor	ignored
.	.	.

when	when	when
red_mult	red_mult	red_mult
,	,	,
green_mult	green_mult	green_mult
,	,	,
and	and	and
blue_mult	blue_mult	blue_mult
all	all	all
equal	equal	equal
1	1	1
,	,	,

xmucreatecolormap	xmucreatecolormap	xmucreatecolormap
,	,	,
defined	defin	defined
in	in	in
mit	mit	mit
/	/	/
lib	lib	lib
/	/	/
xmu	xmu	xmu
/	/	/
crcmap	crcmap	crcmap
.	.	.
c	c	c
,	,	,
constructs	construct	construct

a	a	a
gray	gray	gray
map	map	map
.	.	.

the	the	the
sum	sum	sum
of	of	of
red_max	red_max	red_max
,	,	,
green_max	green_max	green_max
,	,	,
and	and	and
blue_max	blue_max	blue_max
gives	give	give

the	the	the
maximum	maximum	maximum
gray	gray	gray
value	valu	value
.	.	.

referring	refer	referring
to	to	to
section	section	section
14	14	14
.	.	.
3	3	3
,	,	,
on	on	on
would	would	would

expect	expect	expect
red_max	red_max	red_max
to	to	to
give	give	give
the	the	the
maximum	maximum	maximum
gray	gray	gray
value	valu	value
.	.	.