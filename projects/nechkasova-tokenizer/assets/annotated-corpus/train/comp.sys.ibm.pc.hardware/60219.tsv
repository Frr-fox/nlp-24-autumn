from	from	from
:	:	:
disteli@inf.ethz.ch	disteli@inf.ethz.ch	disteli@inf.ethz.ch
(	(	(
andreas	andrea	andreas
reto	reto	reto
disteli	dist	disteli
)	)	)

subject	subject	subject
:	:	:
s3	s3	s3

nntp	nntp	nntp
-	-	-
posting	post	posting
-	-	-
host	host	host
:	:	:
lillian	lillian	lillian
-	-	-
gw	gw	gw

organization	organ	organization
:	:	:
dept	dept	dept
.	.	.

informatik	informatik	informatik
,	,	,
swiss	swiss	swiss
federal	feder	federal
institute	institut	institute
of	of	of
technology	technolog	technology
(	(	(
eth	eth	eth
)	)	)
,	,	,
zurich	zurich	zurich
,	,	,
ch	ch	ch
lines	line	line
:	:	:
40	40	40

re	re	re
:	:	:
problems	problem	problem
with	with	with
s3	s3	s3
-	-	-
initialization	initi	initialization

as	as	a
described	describ	described
the	the	the
manual	manual	manual
the	the	the
following	follow	following
steps	step	step
must	must	must
be	be	be
done	done	done
for	for	for
th	th	th
initialization	initi	initialization
of	of	of
the	the	the
s3	s3	s3
card	card	card
.	.	.

initdisplay	initdisplay	initdisplay
;	;	;

(	(	(
*	*	*
bios	bio	bios
-	-	-
call	call	call

with	with	with
ax	ax	ax
-	-	-
reg	reg	reg
=	=	=
4f02h	4f02h	4f02h

with	with	with
bx	bx	bx
-	-	-
reg	reg	reg
=	=	=
105h	105h	105h
for	for	for
1024	1024	1024
x	x	x
768	768	768
x	x	x
256	256	256
resolution	resolut	resolution

interrupt	interrupt	interrupt
10h	10h	10h
*	*	*
)	)	)
unlock	unlock	unlock
register	regist	register
lock	lock	lock
1	1	1
(	(	(
cr38	cr38	cr38
)	)	)

(	(	(
*	*	*
for	for	for
access	access	access
to	to	to
s3	s3	s3
register	regist	register
set	set	set
*	*	*
)	)	)
unlock	unlock	unlock
register	regist	register
lock	lock	lock
2	2	2
(	(	(
cr39	cr39	cr39
)	)	)

(	(	(
*	*	*
for	for	for
access	access	access
to	to	to
syst	syst	syst
.	.	.

control	control	control
and	and	and
syst	syst	syst
.	.	.

extension	extens	extension
register	regist	register
*	*	*
)	)	)
unlock	unlock	unlock
graphic	graphic	graphic
command	command	command
group	group	group
(	(	(
cr40	cr40	cr40
)	)	)

(	(	(
*	*	*
set	set	set
bit	bit	bit
0	0	0
to	to	to
1	1	1
in	in	in
syst	syst	syst
.	.	.

configuration	configur	configuration
register	regist	register
*	*	*
)	)	)
unlock	unlock	unlock
advanced	advanc	advanced
display	display	display
functions	function	function

(	(	(
*	*	*
set	set	set
bit	bit	bit
0	0	0
to	to	to
1	1	1
in	in	in
function	function	function
control	control	control
register	regist	register
*	*	*
)	)	)

after	after	after
these	these	these
operations	oper	operation
the	the	the
fifo	fifo	fifo
-	-	-
stack	stack	stack
of	of	of
the	the	the
s3	s3	s3
should	should	should
be	be	be
empty	empti	empty
.	.	.

when	when	when
we	we	we
watch	watch	watch
the	the	the
status	status	status
(	(	(
graph	graph	graph
.	.	.

proc	proc	proc
.	.	.

status	status	status
)	)	)
,	,	,
we	we	we
always	alway	always
get	get	get
the	the	the
value	valu	value
0fh	0fh	0fh
instead	instead	instead
of	of	of
0h	0h	0h
.	.	.

full	full	full
would	would	would
mean	mean	mean
0ffh	0ffh	0ffh
(	(	(
8	8	8
places	place	place
occupied	occupi	occupied
)	)	)
,	,	,
empty	empti	empty
would	would	would
mean	mean	mean
0h	0h	0h

(	(	(
0	0	0
places	place	place
occupied	occupi	occupied
)	)	)
.	.	.

it	it	it
is	is	is
possible	possibl	possible
to	to	to
read	read	read
this	this	this
register	regist	register
in	in	in
two	two	two
different	differ	different
ways	way	way
.	.	.

both	both	both
times	time	time
we	we	we
get	get	get
different	differ	different
results	result	result
.	.	.

our	our	our
machine	machin	machine
is	is	is
a	a	a
486	486	486
dx	dx	dx
/	/	/
2	2	2
with	with	with
eisa	eisa	eisa
bus	bus	bus
and	and	and
a	a	a
s3	s3	s3
86c805	86c805	86c805
local	local	local
bus	bus	bus
.	.	.

-	-	-
-	-	-
>	>	>
any	ani	any
ideas	idea	idea
?	?	?

andreas	andrea	andreas
disteli	dist	disteli
institut	institut	institut
fuer	fuer	fuer
computersysteme	computersystem	computersysteme
,	,	,
eth	eth	eth
zuerich	zuerich	zuerich
email	email	email
:	:	:
disteli@inf.ethz.ch	disteli@inf.ethz.ch	disteli@inf.ethz.ch